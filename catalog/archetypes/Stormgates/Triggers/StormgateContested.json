{
  "data": {
    "actions": [
      {
        "function_id": "Variable_SetVariable",
        "parameters": [
          {
            "expressions": [
              {
                "type": "Variable",
                "variable": {
                  "variable_id": "ally_player_group"
                }

              }
            ],
            "id": "variable"
          },
          {
            "expressions": [
              {
                "function": {
                  "function_id": "PlayerGroup_GetTeamPlayers",
                  "parameters": [
                    {
                      "expressions": [
                        {
                          "type": "Variable",
                          "variable": {
                            "variable_id": "triggering_damage_source_team"
                          }
                        }
                      ],
                      "id": "team"
                    }
                  ]
                },
                "type": "Function"
              }
            ],
            "id": "value"
          }
        ]
      },
      {
        "function_id": "Variable_SetVariable",
        "parameters": [
          {
            "expressions": [
              {
                "type": "Variable",
                "variable": {
                  "variable_id": "enemy_player_group"
                }
              }
            ],
            "id": "variable"
          },
          {
            "expressions": [
              {
                "function": {
                  "function_id": "PlayerGroup_GetAllPlayers"
                },
                "type": "Function"
              }
            ],
            "id": "value"
          }
        ]
      },
      {
        "function_id": "PlayerGroup_ForEachPlayerInGroup",
        "parameters": [
          {
            "expressions": [
              {
                "type": "Variable",
                "variable": {
                  "variable_id": "ally_player_group"
                }

              }
            ],
            "id": "players"
          }
        ],
        "sub_functions": [
          {
            "functions": [
              {
                "function_id": "PlayerGroup_RemovePlayer",
                "parameters": [
                  {
                    "expressions": [
                      {
                        "type": "Variable",
                        "variable": {
                          "variable_id": "enemy_player_group"
                        }
                      }
                    ],
                    "id": "group"
                  },
                  {
                    "expressions": [
                      {
                        "function": {
                          "function_id": "PlayerGroup_GetCurrentPlayer"
                        },
                        "type": "Function"
                      }
                    ],
                    "id": "player"
                  }
                ]
              }
            ],
            "id": "actions"
          }
        ]
      },
      {
        "function_id": "PlayerGroup_RemovePlayer",
        "parameters": [
          {
            "expressions": [
              {
                "type": "Variable",
                "variable": {
                  "variable_id": "ally_player_group"
                }
              }
            ],
            "id": "group"
          },
          {
            "expressions": [
              {
                "type": "Variable",
                "variable": {
                  "variable_id": "triggering_damage_source_player"
                }
              }
            ],
            "id": "player"
          }
        ]
      },
      {
        "function_id": "General_IfThenElse",
        "sub_functions": [
          {
            "functions": [
              {
                "function_id": "Logic_Comparison",
                "parameters": [
                  {
                    "expressions": [
                      {
                        "type": "Variable",
                        "variable": {
                          "indices": [
                            {
                              "type": "Variable",
                              "variable": {
                                "variable_id": "triggering_damage_source_team"
                              }
                            }
                          ],
                          "variable_id": "TeamHasContestedStormgate"
                        }
                      }
                    ],
                    "id": "value1"
                  },
                  {
                    "expressions": [
                      {
                        "preset": {
                          "preset_id": "Logic_ComparisonOperator",
                          "value_id": "eq"
                        },
                        "type": "Preset"
                      }
                    ],
                    "id": "op"
                  },
                  {
                    "expressions": [
                      {
                        "type": "Value",
                        "value": {
                          "type": {
                            "directive": "FunctionType",
                            "type": "Boolean"
                          },
                          "value": "false"
                        }
                      }
                    ],
                    "id": "value2"
                  }
                ]
              }
            ],
            "id": "if"
          },
          {
            "functions": [
              {
                "function_id": "Sound_PlaySoundForPlayers",
                "parameters": [
                  {
                    "expressions": [
                      {
                        "type": "Value",
                        "value": {
                          "type": {
                            "directive": "TypeRef",
                            "type": "SoundData"
                          },
                          "value": "SoundData_Announcer_Stormgates_OnStormgateAllyContested"
                        }
                      }
                    ],
                    "id": "sound"
                  },
                  {
                    "expressions": [
                      {
                        "type": "Variable",
                        "variable": {
                          "variable_id": "ally_player_group"
                        }
                      }
                    ],
                    "id": "players"
                  }
                ]
              },
              {
                "function_id": "Sound_PlaySoundForPlayers",
                "parameters": [
                  {
                    "expressions": [
                      {
                        "type": "Value",
                        "value": {
                          "type": {
                            "directive": "TypeRef",
                            "type": "SoundData"
                          },
                          "value": "SoundData_Announcer_Stormgates_OnStormgateEnemyContested"
                        }
                      }
                    ],
                    "id": "sound"
                  },
                  {
                    "expressions": [
                      {
                        "type": "Variable",
                        "variable": {
                          "variable_id": "enemy_player_group"
                        }
                      }
                    ],
                    "id": "players"
                  }
                ]
              },
              {
                "function_id": "Variable_SetVariable",
                "parameters": [
                  {
                    "expressions": [
                      {
                        "type": "Variable",
                        "variable": {
                          "indices": [
                            {
                              "type": "Variable",
                              "variable": {
                                "variable_id": "triggering_damage_source_team"
                              }
                            }
                          ],
                          "variable_id": "TeamHasContestedStormgate"
                        }
                      }
                    ],
                    "id": "variable"
                  },
                  {
                    "expressions": [
                      {
                        "type": "Value",
                        "value": {
                          "type": {
                            "directive": "FunctionType",
                            "type": "Boolean"
                          },
                          "value": "true"
                        }
                      }
                    ],
                    "id": "value"
                  }
                ]
              }
            ],
            "id": "then"
          },
          {
            "id": "else"
          }
        ]
      }
    ],
    "based_on": "Trigger",
    "conditions": [
      {
        "function_id": "Logic_AndOrConditions",
        "parameters": [
          {
            "expressions": [
              {
                "preset": {
                  "preset_id": "Logic_AndOrOperator",
                  "value_id": "or"
                },
                "type": "Preset"
              }
            ],
            "id": "op"
          }
        ],
        "sub_functions": [
          {
            "functions": [
              {
                "function_id": "Unit_IsType",
                "parameters": [
                  {
                    "expressions": [
                      {
                        "function": {
                          "function_id": "Unit_GetTriggeringUnit"
                        },
                        "type": "Function"
                      }
                    ],
                    "id": "unit"
                  },
                  {
                    "expressions": [
                      {
                        "type": "Value",
                        "value": {
                          "type": {
                            "directive": "TypeRef",
                            "implements": "",
                            "inner_type": "",
                            "param_id": "",
                            "sub_directive": "None",
                            "type": "UnitData"
                          },
                          "value": "StormgateObjectiveLv1"
                        }
                      }
                    ],
                    "id": "type"
                  }
                ]
              },
              {
                "function_id": "Unit_IsType",
                "parameters": [
                  {
                    "expressions": [
                      {
                        "function": {
                          "function_id": "Unit_GetTriggeringUnit"
                        },
                        "type": "Function"
                      }
                    ],
                    "id": "unit"
                  },
                  {
                    "expressions": [
                      {
                        "type": "Value",
                        "value": {
                          "type": {
                            "directive": "TypeRef",
                            "implements": "",
                            "inner_type": "",
                            "param_id": "",
                            "sub_directive": "None",
                            "type": "UnitData"
                          },
                          "value": "StormgateObjectiveLv2"
                        }
                      }
                    ],
                    "id": "type"
                  }
                ]
              },
              {
                "function_id": "Unit_IsType",
                "parameters": [
                  {
                    "expressions": [
                      {
                        "function": {
                          "function_id": "Unit_GetTriggeringUnit"
                        },
                        "type": "Function"
                      }
                    ],
                    "id": "unit"
                  },
                  {
                    "expressions": [
                      {
                        "type": "Value",
                        "value": {
                          "type": {
                            "directive": "TypeRef",
                            "implements": "",
                            "inner_type": "",
                            "param_id": "",
                            "sub_directive": "None",
                            "type": "UnitData"
                          },
                          "value": "StormgateObjectiveLv3"
                        }
                      }
                    ],
                    "id": "type"
                  }
                ]
              }
            ],
            "id": "conditions"
          }
        ]
      }
    ],
    "events": [
      {
        "function_id": "Unit_OnDamaged",
        "parameters": [
          {
            "expressions": [
              {
                "preset": {
                  "preset_id": "Unit_AnyUnit",
                  "value_id": "any"
                },
                "type": "Preset"
              }
            ],
            "id": "unit"
          },
          {
            "expressions": [
              {
                "preset": {
                  "preset_id": "Entity_AnyEntity",
                  "value_id": "any"
                },
                "type": "Preset"
              }
            ],
            "id": "source"
          }
        ]
      }
    ],
    "id": "StormgateContested",
    "variables": [
      {
        "array_size": 0,
        "id": "triggering_damage_source_team",
        "initial_values": [
          {
            "function": {
              "function_id": "Player_GetTeam",
              "parameters": [
                {
                  "expressions": [
                    {
                      "function": {
                        "function_id": "Unit_GetOwningPlayer",
                        "parameters": [
                          {
                            "expressions": [
                              {
                                "function": {
                                  "function_id": "Damage_GetTriggeringDamageSourceUnit"
                                },
                                "type": "Function"
                              }
                            ],
                            "id": "unit"
                          }
                        ]
                      },
                      "type": "Function"
                    }
                  ],
                  "id": "player"
                }
              ]
            },
            "type": "Function"
          }
        ],
        "is_array": false,
        "is_constant": false,
        "is_id_based_on_name": true,
        "name": "triggering_damage_source_team",
        "per_element_initial_values": false,
        "type": {
          "directive": "FunctionType",
          "implements": "",
          "inner_type": "",
          "param_id": "",
          "sub_directive": "None",
          "tags": [],
          "type": "Integer"
        }
      },
      {
        "array_size": 0,
        "id": "triggering_damage_source_player",
        "initial_values": [
          {
            "function": {
              "function_id": "Unit_GetOwningPlayer",
              "parameters": [
                {
                  "expressions": [
                    {
                      "function": {
                        "function_id": "Damage_GetTriggeringDamageSourceUnit"
                      },
                      "type": "Function"
                    }
                  ],
                  "id": "unit"
                }
              ]
            },
            "type": "Function"
          }
        ],
        "is_array": false,
        "is_constant": false,
        "is_id_based_on_name": true,
        "name": "triggering_damage_source_player",
        "per_element_initial_values": false,
        "type": {
          "directive": "FunctionType",
          "implements": "",
          "inner_type": "",
          "param_id": "",
          "sub_directive": "None",
          "tags": [],
          "type": "Player"
        }
      },
      {
        "array_size": 0,
        "id": "ally_player_group",
        "initial_values": [
          {
            "function": {
              "function_id": "PlayerGroup_GetNewPlayerGroup"
            },
            "type": "Function"
          }
        ],
        "is_array": false,
        "is_constant": false,
        "is_id_based_on_name": true,
        "name": "ally_player_group",
        "per_element_initial_values": false,
        "type": {
          "directive": "FunctionType",
          "implements": "",
          "inner_type": "",
          "param_id": "",
          "sub_directive": "None",
          "tags": [],
          "type": "PlayerGroup"
        }
      },
      {
        "array_size": 0,
        "id": "enemy_player_group",
        "initial_values": [
          {
            "function": {
              "function_id": "PlayerGroup_GetNewPlayerGroup"
            },
            "type": "Function"
          }
        ],
        "is_array": false,
        "is_constant": false,
        "is_id_based_on_name": true,
        "name": "enemy_player_group",
        "per_element_initial_values": false,
        "type": {
          "directive": "FunctionType",
          "implements": "",
          "inner_type": "",
          "param_id": "",
          "sub_directive": "None",
          "tags": [],
          "type": "PlayerGroup"
        }
      },
      {
        "array_size": 8,
        "id": "TeamHasContestedStormgate",
        "initial_values": [
          {
            "type": "Value",
            "value": {
              "type": {
                "directive": "FunctionType",
                "type": "Boolean"
              },
              "value": "false"
            }
          },
          {
            "type": "Value",
            "value": {
              "type": {
                "directive": "FunctionType",
                "type": "Boolean"
              },
              "value": "false"
            }
          },
          {
            "type": "Value",
            "value": {
              "type": {
                "directive": "FunctionType",
                "type": "Boolean"
              },
              "value": "false"
            }
          },
          {
            "type": "Value",
            "value": {
              "type": {
                "directive": "FunctionType",
                "type": "Boolean"
              },
              "value": "false"
            }
          },
          {
            "type": "Value",
            "value": {
              "type": {
                "directive": "FunctionType",
                "type": "Boolean"
              },
              "value": "false"
            }
          },
          {
            "type": "Value",
            "value": {
              "type": {
                "directive": "FunctionType",
                "type": "Boolean"
              },
              "value": "false"
            }
          },
          {
            "type": "Value",
            "value": {
              "type": {
                "directive": "FunctionType",
                "type": "Boolean"
              },
              "value": "false"
            }
          },
          {
            "type": "Value",
            "value": {
              "type": {
                "directive": "FunctionType",
                "type": "Boolean"
              },
              "value": "false"
            }
          }
        ],
        "is_array": true,
        "is_constant": false,
        "is_id_based_on_name": true,
        "name": "TeamHasContestedStormgate",
        "per_element_initial_values": false,
        "type": {
          "directive": "FunctionType",
          "implements": "",
          "inner_type": "",
          "param_id": "",
          "sub_directive": "None",
          "tags": [],
          "type": "Boolean"
        }
      }
    ]
  },
  "meta": {}
}